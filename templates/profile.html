<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mebel Do'koni - Tailwind Dizayn</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

    <!-- HEADER -->
    <header class="w-full bg-white shadow-md py-4 px-8 flex justify-between items-center sticky top-0 z-50">
        <div class="text-2xl font-extrabold text-blue-600 cursor-pointer hover:scale-105 transition">Abbosbek Mebel</div>

        <nav class="space-x-6 text-lg font-semibold">
            <a href="{% url 'bosh_sahifa' %}" class="hover:text-blue-600 transition">Bosh sahifa</a>
            <a href="#" class="hover:text-blue-600 transition">Katalog</a>
            <a href="{% url 'savatcha_bolimi' %}" class="hover:text-blue-600 transition">Savatcha</a>
        </nav>

        <img src="https://i.ibb.co/7rWHHnH/user.png" class="w-11 h-11 rounded-full shadow-md cursor-pointer hover:scale-110 transition" alt="Profil">
    </header>

    <!-- CATEGORY BUTTONS -->
    <div class="w-full flex flex-wrap gap-3 justify-center mt-8">
        <button onclick="filterCards('all')" class="cat-btn px-5 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700 transition">Hammasi</button>
        <button onclick="filterCards('divan')" class="cat-btn px-5 py-2 rounded-lg bg-white text-gray-700 shadow hover:bg-blue-600 hover:text-white transition">Divanlar</button>
        <button onclick="filterCards('krovat')" class="cat-btn px-5 py-2 rounded-lg bg-white text-gray-700 shadow hover:bg-blue-600 hover:text-white transition">Krovatlar</button>
        <button onclick="filterCards('stol')" class="cat-btn px-5 py-2 rounded-lg bg-white text-gray-700 shadow hover:bg-blue-600 hover:text-white transition">Stollar</button>
        <button onclick="filterCards('kazarma')" class="cat-btn px-5 py-2 rounded-lg bg-white text-gray-700 shadow hover:bg-blue-600 hover:text-white transition">Shkaflar</button>
        <button onclick="filterCards('yotoqxona')" class="cat-btn px-5 py-2 rounded-lg bg-white text-gray-700 shadow hover:bg-blue-600 hover:text-white transition">Yotoqxona</button>
    </div>

    <!-- PRODUCT CARDS -->
    <div id="productCards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 px-6 py-10">

        {% for product in products %}
        <div class="card bg-white rounded-xl shadow-lg overflow-hidden hover:-translate-y-2 transition cursor-pointer" data-cat="divan">
            <img src="{{ product.image.url }}" class="w-full h-52 object-cover">

            <div class="p-4">
                <h3 class="text-xl font-semibold mb-1">{{ product.name }}</h3>
                <div class="text-blue-600 text-lg font-bold mb-2">{{ product.price }} so'm</div>
                <p class="text-gray-600 text-sm mb-3">{{ product.description }}</p>

                <div class="flex justify-between">
                    <a href="{% url 'product_detail' product.id %}"><button class="px-4 py-2 bg-blue-100 text-blue-600 font-semibold rounded-lg hover:bg-blue-600 hover:text-white transition">Batafsil</button></a>
                    <a href="{% url 'savatcha' product.id %}"><button class="px-4 py-2 bg-yellow-200 text-yellow-700 font-semibold rounded-lg hover:bg-yellow-400 hover:text-white transition">Savatchaga</button></a>
                </div>
            </div>
        </div>
        {% endfor %}

    </div>

<script>
    function addToCart(id){
        console.log('Product ID:', id);
        // fetch('/cart/add/' + id) yoki AJAX yozsa bo'ladi
    }

    function filterCards(cat){
        let cards = document.querySelectorAll('.card');
        let buttons = document.querySelectorAll('.cat-btn');

        buttons.forEach(btn => btn.classList.remove('active'));

        cards.forEach(card => {
            if(cat === 'all'){
                card.style.display = 'block';
            } else {
                card.style.display = (card.dataset.cat === cat) ? 'block' : 'none';
            }
        });
    }
</script>

</body>
</html>
